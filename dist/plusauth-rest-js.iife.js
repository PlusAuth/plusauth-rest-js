var PlusAuthRest=(function(e,t,n){Object.defineProperty(e,`__esModule`,{value:!0});var r=Object.create,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,l=(e,t,n,r)=>{if(t&&typeof t==`object`||typeof t==`function`)for(var s=o(t),l=0,u=s.length,d;l<u;l++)d=s[l],!c.call(e,d)&&d!==n&&i(e,d,{get:(e=>t[e]).bind(null,d),enumerable:!(r=a(t,d))||r.enumerable});return e},u=(e,t,n)=>(n=e==null?{}:r(s(e)),l(t||!e||!e.__esModule?i(n,`default`,{value:e,enumerable:!0}):n,e));t=u(t),n=u(n);var d=class extends Error{constructor(e){super(e.message||e.error||e.name),e instanceof Error?Object.defineProperty(this,`_raw`,e):Object.assign(this,e)}};let f=n.default,p=(0,t.default)();async function m(e,t){let n=e.headers.get(`content-type`);return t.responseType===`stream`&&e.ok?e.body?.getReader():t.responseType===`json`||n&&n.indexOf(`application/json`)>-1?await e.json():await e.text()}async function h(e,t){let n=await f(e,t).catch(e=>Promise.reject(new d(e))),r=n.clone();if(n.ok)return await m(r,t);if(n.status===400){let e=await m(r,t);if(e?.error===`xhr_request`&&e.location)return window?.location?.replace(e.location),!1;throw new d(e)}throw new d(await m(r,t))}var g=class{constructor(e,t={}){if(!e)throw Error(`'apiURL' must be provided`);try{new URL(e)}catch{throw Error(`'apiUrl' must be a valid uri`)}if(typeof t!=`object`)throw Error(`'options' must be an object`);if(t.httpClient&&typeof t.httpClient!=`function`)throw Error(`"httpClient" must be function`);let n=e+(/\/api\/v\d(\/)?$/.test(e)?``:`${e.endsWith(`/`)?``:`/`}api/v1`)+this.constructor.prefix,r=t.httpClient||h,i={};for(let e of[`get`,`post`,`patch`,`delete`])i[e]=(...i)=>{let a;a=t&&typeof t.token==`function`?t.token.call(void 0):t.token;let o={method:e.toUpperCase(),mode:`cors`,headers:{Accept:`application/json`,"Content-Type":`application/json`,"X-Requested-With":`XMLHttpRequest`,...a?{Authorization:`Bearer ${a}`}:{},...t.version?{"X-PlusAuth-Version":t.version}:{}}};return i.length>1&&e!==`get`&&(o.body=typeof i[1]==`object`?JSON.stringify(i[1]):i[1]),i[2]&&typeof i[2]==`object`&&(o=p(o,i[2])),r.call(null,n+i[0],o)};this._baseUrl=n,this.http=i}get baseUrl(){return this._baseUrl}};g.prefix=``;function _(e,t=!0){if(!e)return``;let n=[];for(let t in e)e[t]!=null&&n.push(`${t}=${encodeURIComponent(e[t].toString())}`);return t?`?${n.join(`&`)}`:n.join(`&`)}var v=class extends g{async getAll(e){return await this.http.get(`/clients/${_(e)}`)}async create(e){return await this.http.post(`/clients/`,e)}async get(e){return await this.http.get(`/clients/${e}`)}async update(e,t){return await this.http.patch(`/clients/${e}`,t)}async remove(e){return await this.http.delete(`/clients/${e}`)}},y=class extends g{async getAll(e){return await this.http.get(`/connections/${_(e)}`)}async create(e){return await this.http.post(`/connections/`,e)}async get(e){return await this.http.get(`/connections/${e}`)}async update(e,t){return await this.http.patch(`/connections/${e}`,t)}async remove(e){return await this.http.delete(`/connections/${e}`)}},b=class extends g{async getAll(e){return await this.http.get(`/custom-domain/${_(e)}`)}async register(e){return await this.http.post(`/custom-domain/`,e)}async get(e){return await this.http.get(`/custom-domain/${e}`)}async remove(e){return await this.http.delete(`/custom-domain/${e}`)}async verifyOwnership(e){return await this.http.get(`/custom-domain/${e}/verify`)}},x=class extends g{async getAll(e){return await this.http.get(`/hooks/${_(e)}`)}async create(e){return await this.http.post(`/hooks/`,e)}async get(e){return await this.http.get(`/hooks/${e}`)}async update(e,t){return await this.http.patch(`/hooks/${e}`,t)}async remove(e){return await this.http.delete(`/hooks/${e}`)}},S=class extends g{async getAll(e){return await this.http.get(`/jobs/${_(e)}`)}async create(e){return await this.http.post(`/jobs/`,e)}async get(e){return await this.http.get(`/jobs/${e}`)}async remove(e){return await this.http.delete(`/jobs/${e}`)}async getExecutions(e,t){return await this.http.get(`/jobs/${e}/runs${_(t)}`)}async getExecutionDetails(e,t,n){return await this.http.get(`/jobs/${e}/runs/${t}${_(n)}`)}async getExecutionLogs(e,t,n){return await this.http.get(`/jobs/${e}/runs/${t}/logs${_(n)}`)}},C=class extends g{async get(e){return await this.http.get(`/keys/${e}`)}async rotate(e){return await this.http.post(`/keys/${e}/rotate`)}async revoke(e,t){return await this.http.get(`/keys/${e}/revoke/${t}`)}},w=class extends g{async getAll(e){return await this.http.get(`/logs/${_(e)}`)}},T=class extends g{async getAll(e){return await this.http.get(`/mfa/${_(e)}`)}async create(e){return await this.http.post(`/mfa/`,e)}async get(e){return await this.http.get(`/mfa/${e}`)}async update(e,t){return await this.http.patch(`/mfa/${e}`,t)}async remove(e){return await this.http.delete(`/mfa/${e}`)}},E=class extends g{async get(e){return await this.http.get(`/module-settings/${e}/`)}async update(e,t){return await this.http.patch(`/module-settings/${e}/`,t)}},D=class extends g{async getEmailSettings(){return await this.http.get(`/providers/email`)}async updateEmailSettings(e){return await this.http.patch(`/providers/email`,e)}},O=class extends g{async getPermissions(e,t){return await this.http.get(`/resources/${e}/permissions/${_(t)}`)}async createPermission(e,t){return await this.http.post(`/resources/${e}/permissions/`,t)}async removePermission(e,t){return await this.http.delete(`/resources/${e}/permissions/${t}`)}async getAuthorizedClients(e,t){return await this.http.get(`/resources/${e}/authorized_clients/${_(t)}`)}async authorizeClients(e,t){return await this.http.post(`/resources/${e}/authorized_clients/`,t)}async unauthorizeClients(e,t){return await this.http.delete(`/resources/${e}/authorized_clients/`,t)}async getAssignedPermissionsToClient(e,t){return await this.http.get(`/resources/${e}/authorized_clients/${t}/permissions/`)}async authorizePermissionsToClient(e,t,n){return await this.http.post(`/resources/${e}/authorized_clients/${t}/permissions/`,n)}async unauthorizePermissionsFromClient(e,t,n){return await this.http.delete(`/resources/${e}/authorized_clients/${t}/permissions/`,n)}async getAll(e){return await this.http.get(`/resources/${_(e)}`)}async create(e){return await this.http.post(`/resources/`,e)}async get(e){return await this.http.get(`/resources/${e}`)}async update(e,t){return await this.http.patch(`/resources/${e}`,t)}async remove(e){return await this.http.delete(`/resources/${e}`)}},k=class extends g{async getAll(e){return await this.http.get(`/role-groups/${_(e)}`)}async create(e){return await this.http.post(`/role-groups/`,e)}async get(e){return await this.http.get(`/role-groups/${e}`)}async update(e,t){return await this.http.patch(`/role-groups/${e}`,t)}async remove(e){return await this.http.delete(`/role-groups/${e}`)}async getRoles(e){return await this.http.get(`/role-groups/${e}/roles`)}async assignRoles(e,t){return await this.http.post(`/role-groups/${e}/roles`,t)}async unassignRoles(e,t){return await this.http.delete(`/role-groups/${e}/roles`,t)}async getUsers(e,t){return await this.http.get(`/role-groups/${e}/users${_(t)}`)}},A=class extends g{async getAll(e){return await this.http.get(`/roles/${_(e)}`)}async create(e){return await this.http.post(`/roles/`,e)}async get(e){return await this.http.get(`/roles/${e}`)}async update(e,t){return await this.http.patch(`/roles/${e}`,t)}async remove(e){return await this.http.delete(`/roles/${e}`)}async getPermissions(e,t){return await this.http.get(`/roles/${e}/permissions${_(t)}`)}async assignPermissions(e,t){return await this.http.post(`/roles/${e}/permissions`,t)}async unassignPermissions(e,t){return await this.http.delete(`/roles/${e}/permissions`,t)}async getUsers(e,t){return await this.http.get(`/roles/${e}/users${_(t)}`)}},j=class extends g{async get(e,t){return await this.http.get(`/templates/${e}/${t}/`)}async update(e,t,n){return await this.http.patch(`/templates/${e}/${t}/`,n)}async reset(e,t){return await this.http.delete(`/templates/${e}/${t}/`)}},M=class extends g{async invite(e,t){return await this.http.post(`/tenants/${e}/invite`,t)}async getAll(e){return await this.http.get(`/tenants/${e}/administrators`)}async remove(e,t){return await this.http.delete(`/tenants/${e}/administrators/${t}`)}async assignPermissions(e,t,n){return await this.http.post(`/tenants/${e}/administrators/${t}/permissions`,n)}async unassignPermissions(e,t,n){return await this.http.delete(`/tenants/${e}/administrators/${t}/permissions`,n)}},N=class extends g{async create(e){return await this.http.post(`/tenants/`,e)}async remove(e){return await this.http.delete(`/tenants/${e}/`)}async getStats(e){return await this.http.get(`/tenants/${e}/stats`)}async getSettings(e){return await this.http.get(`/tenants/${e}/settings`)}async updateSettings(e,t){return await this.http.patch(`/tenants/${e}/settings`,t)}async getSubscription(e){return await this.http.get(`/tenants/${e}/subscription`)}},P=class extends g{async getAll(e){return await this.http.get(`/users/${_(e)}`)}async create(e){return await this.http.post(`/users/`,e)}async get(e){return await this.http.get(`/users/${e}`)}async update(e,t){return await this.http.patch(`/users/${e}`,t)}async remove(e){return await this.http.delete(`/users/${e}`)}async getRbac(e){return await this.http.get(`/users/${e}/rbac`)}async removeCredential(e,t){return await this.http.delete(`/users/${e}/credentials/${t}`)}async linkIdentity(e,t){return await this.http.post(`/users/${e}/identities/`,t)}async getPermissions(e,t){return await this.http.get(`/users/${e}/permissions/${_(t)}`)}async assignPermissions(e,t){return await this.http.post(`/users/${e}/permissions/`,t)}async unassignPermissions(e,t){return await this.http.delete(`/users/${e}/permissions/`,t)}async getRoles(e,t){return await this.http.get(`/users/${e}/roles/${_(t)}`)}async assignRoles(e,t){return await this.http.post(`/users/${e}/roles/`,t)}async unassignRoles(e,t){return await this.http.delete(`/users/${e}/roles/`,t)}async getRoleGroups(e,t){return await this.http.get(`/users/${e}/role-groups/${_(t)}`)}async assignRoleGroups(e,t){return await this.http.post(`/users/${e}/role-groups/`,t)}async unassignRoleGroups(e,t){return await this.http.delete(`/users/${e}/role-groups/`,t)}async getSessions(e,t){return await this.http.get(`/users/${e}/session/${_(t)}`)}async endSessions(e){return await this.http.delete(`/users/${e}/session/`)}async endSession(e,t){return await this.http.delete(`/users/${e}/session/${t}`)}},F=class extends g{async get(e){return await this.http.get(`/views/${e}/`)}async update(e,t){return await this.http.patch(`/views/${e}/`,t)}},I=class{set token(e){this.options.token=e}constructor(e,t={}){this.options=t,this.administrators=new M(e,this.options),this.clients=new v(e,this.options),this.connections=new y(e,this.options),this.customDomains=new b(e,this.options),this.hooks=new x(e,this.options),this.keys=new C(e,this.options),this.jobs=new S(e,this.options),this.logs=new w(e,this.options),this.mfa=new T(e,this.options),this.moduleSettings=new E(e,this.options),this.providers=new D(e,this.options),this.resources=new O(e,this.options),this.roleGroups=new k(e,this.options),this.roles=new A(e,this.options),this.templates=new j(e,this.options),this.tenants=new N(e,this.options),this.users=new P(e,this.options),this.views=new F(e,this.options)}};return e.PlusAuthRestClient=I,e.PlusAuthRestError=d,e.default=(e,t={})=>new I(e,t),e})({},_fastify_deepmerge,cross_fetch);